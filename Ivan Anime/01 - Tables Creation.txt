
CREATE TABLE "Двигатель" ( --ok
	"№ п/п" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Объем" VARCHAR(30),
	"Производитель" VARCHAR(30),
	"Модель" VARCHAR(50), 
	"Мощность" VARCHAR(30),
	"Тип" VARCHAR(30)
);

CREATE TABLE "КПП" ( --ok
	"№ п/п" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Тип коробки" VARCHAR(20), 
	"Кол-во передач" INT
);

CREATE TABLE "Диски" ( --ok
	"№ п/п" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Производитель" VARCHAR(50), 
	"Модель" VARCHAR(30), 
	"Ширина" VARCHAR(30), 
	"Тип" VARCHAR(30)
);

CREATE TABLE "Шины" ( --ok
	"№ п/п" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Модель" VARCHAR(40), 
	"Сезонность" VARCHAR(20), 
	"Производитель" VARCHAR(40)
);

CREATE TABLE "Колесо" ( --ok
	"№ п/п" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"№ Дисков" BIGINT,
	CONSTRAINT "ВК_Колесо_Диски" FOREIGN KEY("№ Дисков") REFERENCES "Диски"("№ п/п")
	"№ Шин" BIGINT, 
	CONSTRAINT "ВК_Колесо_Шины" FOREIGN KEY("№ Шин") REFERENCES "Шины"("№ п/п")
	"Диаметр" INT
);

CREATE TABLE "Авто" ( --ok
	"Гос номер" VARCHAR(9) UNIQUE NOT NULL PRIMARY KEY,
	"Год выпуска" VARCHAR(12),
	"Марка" VARCHAR(40), 
	"Модель" VARCHAR(40), 
	"Страна пр." VARCHAR(40),
	"№ Двигателя" BIGINT,
	CONSTRAINT "FK_Авто_Двигатель" FOREIGN KEY("№ Двигателя") REFERENCES "Двигатель"("№ п/п")
	"№ Колёс" BIGINT, 
	CONSTRAINT "ВК_Авто_Колесо" FOREIGN KEY("№ Колёс") REFERENCES "Колесо"("№ п/п")
	"№ КПП" BIGINT,
	CONSTRAINT "ВК_Авто_КПП" FOREIGN KEY("№ КПП") REFERENCES "КПП"("№ п/п")
	"Тип топлива" VARCHAR(10),
	"Категория" VARCHAR(20),
	"Эко класс" VARCHAR(20)
);

CREATE TABLE "ПТС" ( --ok
	"№ ПТС" VARCHAR(40) UNIQUE NOT NULL PRIMARY KEY,
	"Кол. владельцев" VARCHAR(9),
	"Компания производитель" VARCHAR(40),
	"Номер авто" VARCHAR(9),
	CONSTRAINT "ВК_ПТС_Авто" FOREIGN KEY("Номер авто") REFERENCES "Авто"("Гос номер")
);

CREATE TABLE "Записи ПТС" ( --ok
	"№ Записи" VARCHAR(20) UNIQUE NOT NULL PRIMARY KEY,
	"№ ПТС" VARCHAR(40),
	CONSTRAINT "ВК_Записи ПТС_ПТС" FOREIGN KEY("№ ПТС") REFERENCES "ПТС"("№ ПТС"),
	"Дата покупки" TIMESTAMP DEFAULT clock_timestamp(),
	"Дата продажи" TIMESTAMP DEFAULT clock_timestamp(),
	"Фамилия" VARCHAR(40),
	"Имя" VARCHAR(40),
	"Отчество" VARCHAR(40)
);

 --ok

CREATE TABLE "Переч. Штрафов" ( --ok
	"№ в ГИБДД" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Дата" TIMESTAMP, 
	"Сумма" INT,
	"Номер авто" VARCHAR(9),
	CONSTRAINT "ВК_Переч. Штрафов_Авто" FOREIGN KEY("Номер авто") REFERENCES "Авто"("Гос номер")
);

CREATE TABLE "СТС" ( --ok
	"№ СТС" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Вес ТС" INT, 
	"VIN номер" INT, 
	"Номер авто" VARCHAR(9),
	CONSTRAINT "ВК_СТС_Авто" FOREIGN KEY("Номер авто") REFERENCES "Авто"("Гос номер")
	"Номер двигателя" BIGINT, 
	"Номера кузова" INT, 
	"Номера шасси" INT, 
	"Цвет кузова" VARCHAR(20)
);

CREATE TABLE "Бухгалтер" ( --ok
	"№ Сотрудника" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Имя" VARCHAR(40),
	"Фамилия" VARCHAR(40),
	"Отчество" VARCHAR(40)
);

CREATE TABLE "Эксперт" ( --ok
	"№ Сотрудника" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Имя" VARCHAR(40),
	"Фамилия" VARCHAR(40), 
	"Отчество" VARCHAR(40), 
	"ИНН" INT, 
	"КПП" BIGINT, 
	"ОКПО" INT
);

CREATE TABLE "Доверенность" ( --ok
	"№ Доверенности" VARCHAR(30) UNIQUE NOT NULL PRIMARY KEY,
	"Дата выдачи" TIMESTAMP, 
	"№ Сотрудника" BIGINT,
	CONSTRAINT "ВК_Доверенность_Бухгалтер" FOREIGN KEY("№ Сотрудника") REFERENCES "Эксперт"("№ Сотрудника"),
	"Срок действия" INT
);

CREATE TABLE "Дов-сть авто" (
	"№ автомобиля" VARCHAR(9) UNIQUE NOT NULL PRIMARY KEY,
	"Дата выдачи" TIMESTAMP, 
	"Кем выдан" BIGINT,
	"Срок действия" INT
);

CREATE TABLE "Договор" (
	"№ договора" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"№ доверенности" BIGINT,
	"№ продавца" BIGINT, 
	"№ сотрудника" BIGINT, 
	"№ автомобиля" VARCHAR(9),
	"Дата сделки" TIMESTAMP,
	"ПТС" VARCHAR(40),
	"СТС" VARCHAR(40)
);

CREATE TABLE "Заявка" (
	"№п/п" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"№ оператора" BIGINT, 
	"Номер Авто" VARCHAR(9), 
	"Телефон" VARCHAR(17)
);

CREATE TABLE "Контакты" (
	"№ сотрудника" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Email" VARCHAR(40), 
	"Мобильный телефон" VARCHAR(17), 
	"Корпоративный телефон" VARCHAR(17)
);

CREATE TABLE "Коорд." (
	"№ n/m" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Email" VARCHAR(40), 
	"Мобильный телефон" VARCHAR(17), 
	"Город" VARCHAR(100), 
	"Улица" VARCHAR(100), 
	"Дом" VARCHAR(10)
);

CREATE TABLE "Налог.Дек." (
	"№ декларации" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"КПП" VARCHAR(30), 
	"Доход" INT, 
	"Налог" VARCHAR(10), 
	"ОГРН" VARCHAR(13), 
	"ОГРНИП" VARCHAR(15), 
	"Период" VARCHAR(10), 
	"Составляющий" VARCHAR(10), 
	"Сумма" INT
);

CREATE TABLE "Оператор" (
	"№ сотрудника" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Имя" VARCHAR(40), 
	"Фамилия" VARCHAR(40), 
	"Отчество" VARCHAR(40), 
	"ИНН" VARCHAR(40)
);

CREATE TABLE "Паспорт" (
	"Код паспорта" VARCHAR(100) UNIQUE NOT NULL PRIMARY KEY,
	"Номер" INT,
	"Серия" INT, 
	"Кем выдан" VARCHAR(100), 
	"Дата выдачи" TIMESTAMP
);

CREATE TABLE "Продавец" (
	"№n/m" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"Дата нач. действия" TIMESTAMP, 
	"Срок" VARCHAR(9)
);


CREATE TABLE "РПДС" (
	"№ n/m" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, 
	"Дата" TIMESTAMP, 
	"Срок" TIMESTAMP
);

CREATE TABLE "Счет-фактура" ( 
	"№ счета-фактуры" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"№ покупателя" INT, 
	"№ сотрудника" INT, 
	"ИНН" INT,
	"КПП" BIGINT, 
	"Налог" INT, 
	"Сумма документа" INT
);